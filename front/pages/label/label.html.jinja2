<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="label.css" />
    <link rel="stylesheet" href="../../shared/styles/global.css" />
    <script type="module" defer src="label.js"></script>

    <title>Labeling Interface</title>
  </head>
  <body class="label-page-body" data-task_uuid="{{ task_id }}">
    <header class="mb-3">
      <div class="columns" style="background-color: #040064">
        <div class="column is-flex is-one-third is-justify-content-start">
          <a href="/panel">
            <span class="icon-text has-text-white pt-1">
              <span class="icon">
                <i class="fas fa-arrow-left"></i>
              </span>
              <span> Back to Tasks View </span>
            </span>
          </a>
        </div>
        <div
          id="progress-text-display"
          class="column is-flex is-justify-content-center is-one-third is-family-monospace has-text-white is-size-6 has-text-left has-text-weight-medium mt-1 ml-2"
        >
          {{ labeled }} / {{ total }} labeled
        </div>
        <div
          class="column is-one-third is-flex is-justify-content-end has-text-white is-size-6 has-text-right"
        >
          <progress
            style="position: absolute; max-width: 30%"
            class="progress is-link mt-3 mr-4"
            value="{{ progress_percent }}"
            max="100"
          >
            {{ progress_percent }}%
          </progress>
        </div>
      </div>
    </header>
    <main class="label-page-main">
      <div
        id="panzoom-container"
        class="container mt-2 is-flex is-justify-content-center"
        data-image_id=""
      >
        <img id="panzoom-element" class="image" alt="Image to be labeled" />
      </div>
      <div class="columns mt-3">
        <div class="column is-fullwidth mx-6">
          <div class="grid is-flex is-flex-wrap-wrap is-justify-content-center">
            {% for label_keybind in label_keybinds %}
              <div
                id="btn-{{ label_keybind.keybind | upper }}"
                class="box label-btn p-5"
                data-label="{{ label_keybind.label }}"
                data-keybind="{{ label_keybind.keybind }}"
              >
                <p class="keybind-label has-text-weight-bold">
                  {{ label_keybind.keybind | upper }}
                </p>
                <p class="label-text is-size-5-widescreen is-size-7">
                  {{ label_keybind.label | upper }}
                </p>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="notification-area"></div>
    </main>
    <footer class="info-and-controls">
      <div class="ego">Sameed Khan, 2024</div>
      <div class="additional-controls">
        <p><em>Additional Controls</em></p>
        <p><strong>Ctrl+Z</strong>: Return to previous label</p>
      </div>
    </footer>
  </body>
</html>
